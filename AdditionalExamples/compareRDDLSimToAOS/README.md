
# An experiment to compare the sampling rate of RDDLSim vs. the AOS
In this experiment, we altered RDDLSim, so its code repeatedly samples the next state, reward, and observation for one second and reports the number of samples. </br>

It can evaluate the sampling rate of any RDDL domain using the following command
`./runRddlSimExperiment.bash <RDDL_files_directory_path> <instance_name>`

for exmple:</br>
`./runRddlSimExperiment.bash ~/Projects/AOS-experiments/Additional Examples/compareRDDLSimToAOS created_plps_instance`

* you will need to edit the runRddlSimExperiment.bash for jars in java path.

We altered the AOS-Solver auto-generated code in the same way so it can report the sampling rate.</br>

All of the files to describe these domains in RDDL or for the AOS can be found in this repository.

##### Links:
* [The Autogenerated domain (using a PLPToRDDL)](#1-an-armadillo-robot-experiment-domain-that-was-conducted-in-our-lab)
* [The Wild Fire domain](#2we-tested-the-wild-fire-domain-described-in-the-rddl-tutorial)
* [The Academic Advising domain](#3-we-tested-the-academic-advising-domain-found-in-the-rddlsim-repository)
* [The Tamarisk domain](#3-we-tested-the-tamarisk-domain-found-in-the-rddlsim-repository)
* [The Swarm of Locusts(X) domain description](#4-we-tested-the-swarm-of-locustsx-domain)
* [The Swarm of Locusts(2) domain: experiment results](#41-swarm-of-locusts2)
* [The Swarm of Locusts(3) domain: experiment results](#42-swarm-of-locusts3)
* [The Swarm of Locusts(50) domain: experiment results](#43-swarm-of-locusts50)
* [The Swarm of Locusts(100) domain: experiment results](#44-swarm-of-locusts100)
* [The Swarm of Locusts(1000) domain: experiment results](#45-swarm-of-locusts1000)
* [The Swarm of Locusts(5000) domain: experiment results](#46-swarm-of-locusts5000)


## We tested RDDLSim on two domains:
### 1. An Armadillo robot experiment domain that was conducted in our lab:
 A.  The RDDL domain was autogenerated using a PLPToRDDL tool.   
It is possible to perform the experiment on any machine (after downloading and compiling the code) by running the following command:</br>
`./runRddlSimExperiment.bash <path_to_code_directory> created_plps_instance`</br>
The results were that *the domain generative module sampling rate was 12,500 samples per second*.
</br></br>
B. We used the AOS documentation to generate the AOS-Solver. We altered its code so it will resample from the generative for one second and report the number of samples.</br>
It is possible to perform the experiment on any machine (after downloading and compiling the code) by running the following command:</br>
`./AOS-Solver/build/examples/cpp_models/plps_domain/despot_plps_domain`</br>
The results were that *the domain generative module sampling rate was 452,052 samples per second*.

### 2.We tested the wild fire domain described in the RDDL tutorial:
A. We tested the RDDLSim sampling rate per second on the domain 10 times:</br>
To run the experiment use:</br>
`./runRddlSimExperiment.bash $PWD wildfire_inst_mdp__1_v2` </br>
</br>
The results were:</br>
30646, 28810, 24606, 26218, 25302, 27083, 26238, 25951, 26128, 24910</br>
Mean, μ:	26,589<br>
Standard Deviation, σ: 1,758</br>
Variance, σ^2: 	3092423 </br>

B. We documented the domain and tested the AOS sampling rate:</br>
The results were:</br>
260799, 250548, 258577, 252299, 249316, 253856, 252794, 254041, 253286, 249990</br>

Count, N:	10</br>
Sum, Σx:	2535506</br>
*Mean, μ:	253,550.6*</br>
Variance, σ^2: 	11997203.64</br>
Standard Deviation, σ: 3463.6979718214</br>




### 3. We tested the 'academic advising' domain, found in the RDDLSim repository:
A. running the RDDLSim experimend 10 times: </br>
`./runRddlSimExperiment.bash $PWD academic_advising_inst_mdp__1` </br>
The results for sampling rate per second were:
91872, 78607, 79837, 80573, 117494, 80168, 80799, 80096, 76893, 122570</br>
Mean, μ:	88,890.9</br>
Standard Deviation, σ: 16,065.780183047</br>
Variance, σ^2: 	258109292.89</br>

B. We documented the domain and tested the AOS sampling rate:</br>
The results were:</br>
172116, 170805, 175816, 177516, 175007, 165809, 170408, 177142, 172659, 167970</br>

Count, N:	10</br>
Sum, Σx:	1725248</br>
Mean, μ:	172524.8</br>
Variance, σ^2: 	13669578.16</br>
Standard Deviation, σ: 3697.2392619359</br>

### 3. We tested the 'Tamarisk' domain, found in the RDDLSim repository:
A. running the RDDLSim experimend 10 times: </br>
5143, 5417, 5122, 4899, 5580, 4949, 4620, 5623, 5267, 5102</br>
Count, N:	10</br>
Sum, Σx:	51722</br>
Mean, μ:	5172.2</br>
Variance, σ^2: 	87611.76</br>
Standard Deviation, σ: 295.99283775119</br>

B. We documented the domain and tested the AOS sampling rate:</br>
The results were:</br>
136756, 127063, 130625, 129179, 131534, 115934, 124241, 129042, 123940, 128700</br>

Count, N:	10</br>
Sum, Σx:	1277014</br>
Mean, μ:	127701.4</br>
Variance, σ^2: 	27520150.84</br>
Standard Deviation, σ: 5245.9651962246</br>


### 4. We tested the 'Swarm of Locusts(X)' Domain:
In the Locusts Swarm domain, a swarm of locusts has invaded a nature reserve. </br>
The reserve is divided into nine primary cells that host a variety of endangered plants (10 tons of plants in each cell).</br> 
The swarm moves from cell to cell 'X' times during the night, eating half the plants of each cell it encounters. </br>
It rests in the last cell visited at night during the following day. </br>
The swarm moves stochastically depending on how many plants it smells in neighboring cells.</br> 
The reserve management has a crop duster that can spray pesticides at a single cell at night. </br>
These materials fade away after one day and need a whole day to disable the swarm. </br>
The only chance to stop this catastrophe is to spray, in advance, the cell in which the swarm will rest the following day.</br>
</br>

## 4.1 Swarm of Locusts(2)
A. running the RDDLSim experimend 10 times: </br>
The results were:</br>
28740, 28909, 29303, 29088, 28754, 27988, 29438, 28118, 28470, 28230</br>
Standard Deviation, σ: 471.83870125288</br>
Count, N:	10</br>
Sum, Σx:	287038</br>
Mean, μ:	28703.8</br>
Variance, σ^2: 	222631.76</br>
</br>

B. We documented the domain and tested the AOS sampling rate:</br>
The results were:</br>
337634, 352421, 362121, 351360, 353113, 354503, 352862, 358167, 357711, 363451</br>

Standard Deviation, σ: 6818.6032741317</br>
Count, N:	10</br>
Sum, Σx:	3543343</br>
Mean, μ:	354334.3</br>
Variance, σ^2: 	46493350.61</br>
</br>


## 4.2 Swarm of Locusts(3)
A. Swarm of Locusts(3)- running the RDDLSim experimend 10 times: </br>
The results were:</br>
19944, 19586, 19327, 19815, 19592, 18779, 18448, 18911, 18659, 19307</br>
Standard Deviation, σ: 486.5597188424</br>
Count, N:	10</br>
Sum, Σx:	192368</br>
Mean, μ:	19236.8</br>
Variance, σ^2: 	236740.36</br>

B. We documented the domain and tested the AOS sampling rate:</br>
The results were:</br>
  269432, 275895, 277430, 278666, 261452, 278523, 268846, 276710, 277641, 278171</br>
  
  Standard Deviation, σ: 5474.4935875385</br>
  Count, N:	10</br>
Sum, Σx:	2742766</br>
Mean, μ:	274276.6</br>
Variance, σ^2: 	29970080.04</br>


## 4.3 Swarm of Locusts(50)
A. Swarm of Locusts(50)- running the RDDLSim experimend 10 times: </br>
The results were:</br>
1189, 1179, 1223, 1127, 1210, 1075, 1073, 1154, 1185, 1041</br>
Standard Deviation, σ: 60.251473011039</br>

Count, N:	10</br>
Sum, Σx:	11456</br>
Mean, μ:	1145.6</br>
Variance, σ^2: 	3630.24</br>
</br>

B. We documented the domain and tested the AOS sampling rate:</br>
The results were:</br>
23410, 24517, 24146, 24442, 24885, 24368, 24194, 24684, 24411, 24975</br>
</br>

Standard Deviation, σ: 418.33641964333</br>
Count, N:	10</br>
Sum, Σx:	244032</br>
Mean, μ:	24403.2</br>
Variance, σ^2: 	175005.36</br>
</br>


## 4.4 Swarm of Locusts(100)
A. Swarm of Locusts(100)- running the RDDLSim experimend 10 times: </br>
The results were:</br>
525, 531, 540, 535, 566, 562, 572, 542, 577, 553</br>
Standard Deviation, σ: 17.309246084102</br>
Count, N:	10</br>
Sum, Σx:	5503</br>
Mean, μ:	550.3</br>
Variance, σ^2: 	299.61</br>
</br>

B. We documented the domain and tested the AOS sampling rate:</br>
The results were:</br>
12783, 12315, 12465, 12279, 12398, 12479, 12301, 12379, 12387, 12615</br>
Standard Deviation, σ: 148.18262381265</br>

Count, N:	10</br>
Sum, Σx:	124401</br>
Mean, μ:	12440.1</br>
Variance, σ^2: 	21958.09</br>
</br>

## 4.5 Swarm of Locusts(1000)
A. Swarm of Locusts(1000)- running the RDDLSim experimend 10 times: </br>
The results were:</br>
43, 43, 44, 44, 44, 44, 43, 44, 45, 45</br>
Standard Deviation, σ: 0.7</br>
Count, N:	10</br>
Sum, Σx:	439</br>
Mean, μ:	43.9</br>
Variance, σ^2: 	0.49</br>

B. We documented the domain and tested the AOS sampling rate:</br>
The results were:</br>
1261, 1248, 1274, 1290, 1271, 1289, 1287, 1275, 1282, 1273</br>
Standard Deviation, σ: 12.489995996797</br>
Count, N:	10</br>
Sum, Σx:	12750</br>
Mean, μ:	1275</br>
Variance, σ2: 	156</br>


## 4.6 Swarm of Locusts(5000)
A. Swarm of Locusts(5000)- running the RDDLSim experimend 10 times: </br>
The results were:</br>
RDDLSim was not able to load the domain.

B. We documented the domain and tested the AOS sampling rate:</br>
The results were:</br>
247, 240, 244, 244, 245, 243, 244, 245, 238, 239</br>
Standard Deviation, σ: 2.7730849247724</br>

Count, N:	10</br>
Sum, Σx:	2429</br>
Mean, μ:	242.9</br>
Variance, σ^2: 	7.69</br>
</br>
